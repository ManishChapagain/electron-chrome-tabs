(()=>{"use strict";var t={139:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DID_NAVIGATE_IN_PAGE=e.DID_NAVIGATE=e.PAGE_FAVICON_UPDATED=e.PAGE_TITLE_UPDATED=e.TAB_ACTION=e.TAB_ACTION_TYPE=e.TAB_UPDATED=void 0,e.TAB_UPDATED="tab-updated",e.TAB_ACTION_TYPE="tab-action",e.TAB_ACTION={ADD_TAB:"add-tab",CLOSE_TAB:"close-tab",SWITCH_TAB:"switch-tab",NAVIGATE:"navigate",RELOAD:"reload",GO_BACK:"go-back",GO_FORWARD:"go-forward"},e.PAGE_TITLE_UPDATED="page-title-updated",e.PAGE_FAVICON_UPDATED="page-favicon-updated",e.DID_NAVIGATE="did-navigate",e.DID_NAVIGATE_IN_PAGE="did-navigate-in-page"},142:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=i(157),a=s(i(257)),o=s(i(464)),r=i(139);e.default=class{window;navBar;tabs=[];activeTab=null;defaultURL;defaultSearchEngineUrl;constructor(t="",e="google"){this.defaultURL=t,this.defaultSearchEngineUrl=`https://www.${e}.com/search?q=`,this.window=new n.BaseWindow({width:1024,height:800,autoHideMenuBar:!0}),this.window.setMinimumSize(300,87),this.navBar=new o.default(this.window),this.resizeViews(),this.window.on("resize",(()=>this.resizeViews())),this.setupIPC(),this.createMenu()}get id(){return this.window.id}addTab(t){const e=new a.default(this.window,this.navBar.view,t||this.defaultURL);return this.tabs.push(e),e.id}switchTab(t){if(!t)return;if(this.activeTab?.id==t)return;this.activeTab&&this.activeTab?.view.setBounds({x:-9999,y:-9999,width:1,height:1});const e=this.tabs.find((e=>e.id==t));e&&(this.activeTab=e,this.resizeViews(),this.activeTab?.view?.webContents?.focus()),this.navBar.view.webContents.send("tab-updated",{tabId:t,url:e?.view.webContents.getURL()})}closeTab(t){if(!t)return;const e=this.tabs.find((e=>e.id==t));if(e)if(this.window.contentView.removeChildView(e.view),e.view.webContents.removeAllListeners(),e.view.webContents.close(),this.tabs.splice(this.tabs.indexOf(e),1),this.tabs.length>0){const t=this.tabs[0].id;this.switchTab(t)}else this.window.close()}navigateActiveTab(t){t&&(t.includes(".")||"localhost"===t||(t=`${this.defaultSearchEngineUrl}${encodeURIComponent(t)}`),t.startsWith("http://")||t.startsWith("https://")||(t=`https://${t}`),this.activeTab&&this.activeTab.view.webContents.loadURL(t))}reloadActiveTab(){this.activeTab&&this.activeTab.view.webContents.reload()}goBackActiveTab(){this.activeTab&&this.activeTab.view.webContents.navigationHistory.canGoBack()&&this.activeTab.view.webContents.navigationHistory.goBack()}goForwardActiveTab(){this.activeTab&&this.activeTab.view.webContents.navigationHistory.canGoForward()&&this.activeTab.view.webContents.navigationHistory.goForward()}setupIPC(){this.navBar.webContents.ipc.on(r.TAB_ACTION_TYPE,((t,e,i)=>{this.handleSyncTabAction(e,i)})),this.navBar.webContents.ipc.handle(r.TAB_ACTION_TYPE,(async(t,e,i)=>this.handleAsyncTabAction(e,i)))}handleSyncTabAction(t,e){switch(t){case r.TAB_ACTION.CLOSE_TAB:this.closeTab(e?.tabId);break;case r.TAB_ACTION.SWITCH_TAB:this.switchTab(e?.tabId);break;case r.TAB_ACTION.NAVIGATE:this.navigateActiveTab(e?.url);break;case r.TAB_ACTION.RELOAD:this.reloadActiveTab();break;case r.TAB_ACTION.GO_BACK:this.goBackActiveTab();break;case r.TAB_ACTION.GO_FORWARD:this.goForwardActiveTab()}}async handleAsyncTabAction(t,e){return t===r.TAB_ACTION.ADD_TAB?this.addTab(e?.url):null}resizeViews(){const t=this.window.getContentBounds();if(this.navBar.view.setBounds({x:0,y:0,width:t.width,height:87}),this.activeTab){const e=this.activeTab.view;e&&e.setBounds({x:0,y:87,width:t.width,height:t.height-87})}}createMenu(){const t=[{label:"File",submenu:[{label:"New Tab",accelerator:"CmdOrCtrl+T",click:()=>{this.addTab()}},{type:"separator"},{role:"quit"}]},{label:"View",submenu:[{label:"Toggle DevTools",accelerator:"darwin"==process.platform?"Cmd+Alt+I":"Ctrl+Shift+I",click:()=>{this.activeTab&&this.activeTab?.view?.webContents?.toggleDevTools()}}]}],e=n.Menu.buildFromTemplate(t);this.window.setMenu(e)}}},156:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Browser=void 0;const n=s(i(602));e.Browser=n.default,e.default=n.default},157:t=>{t.exports=require("electron")},257:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});const s=i(157),n=i(139);e.default=class{parentWindow;navBarView;id;view;constructor(t,e,i){this.parentWindow=t,this.navBarView=e,this.view=new s.WebContentsView,this.id=this.view.webContents.id,this.parentWindow.contentView.addChildView(this.view),this.view.webContents.loadURL(i),this.view.webContents.on(n.PAGE_TITLE_UPDATED,((t,e)=>{this.navBarView.webContents.send(n.TAB_UPDATED,{tabId:this.id,title:e})})),this.view.webContents.on(n.PAGE_FAVICON_UPDATED,((t,e)=>{this.navBarView.webContents.send(n.TAB_UPDATED,{tabId:this.id,title:this.view.webContents.getTitle(),favicon:e})})),this.view.webContents.on(n.DID_NAVIGATE,((t,e)=>{this.navBarView.webContents.send(n.TAB_UPDATED,{tabId:this.id,url:e})})),this.view.webContents.on(n.DID_NAVIGATE_IN_PAGE,((t,e,i)=>{i&&this.navBarView.webContents.send(n.TAB_UPDATED,{tabId:this.id,url:e})}))}}},464:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=i(157),a=s(i(928));e.default=class{parentWindow;view;constructor(t){this.parentWindow=t,this.view=new n.WebContentsView({webPreferences:{preload:a.default.join(__dirname,"components","Navbar","preload.js")}}),this.view.webContents.openDevTools(),this.view.webContents.loadFile(a.default.join(__dirname,"components","Navbar","ui","navbar.html")),this.parentWindow.contentView.addChildView(this.view)}get webContents(){return this.view.webContents}send(t,e){this.webContents.send(t,e)}}},602:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=s(i(142));e.default=class{windows=new Map;createWindow(t,e){const i=new n.default(t,e);return this.windows.set(i.id,i),i}getWindow(t){return this.windows.get(t)}getAllWindows(){return this.windows}}},928:t=>{t.exports=require("path")}},e={},i=function i(s){var n=e[s];if(void 0!==n)return n.exports;var a=e[s]={exports:{}};return t[s].call(a.exports,a,a.exports,i),a.exports}(156);module.exports=i})();